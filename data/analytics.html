<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Data Fetcher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Class Data Fetcher</h1>
    <label for="classSelect">Choose a class:</label>
    <select id="classSelect">
        <option value="">Select a class</option>
        <option value="barbarian">Barbarian</option>
        <option value="sorceress">Sorceress</option>
        <!-- Add more classes here -->
    </select>
    <button id="fetchDataButton">Fetch Data</button>

    <div id="output">
        <p>Select a class and click "Fetch Data" to see the results here.</p>
    </div>

    <script>
        document.getElementById('fetchDataButton').addEventListener('click', async () => {
            const classSelect = document.getElementById('classSelect');
            const selectedClass = classSelect.value;
            const output = document.getElementById('output');

            if (!selectedClass) {
                output.innerHTML = '<p>Please select a class before fetching data.</p>';
                return;
            }

            output.innerHTML = '<p>Fetching data...</p>';

            try {
                // Replace with your API endpoint
                const apiUrl = `https://beta.pathofdiablo.com/api/ladder/13/0/1/1`;
//                const apiUrl = 'https://beta.pathofdiablo.com/api/characters/sorcsallsuck/summary';
                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error(`Error fetching data: ${response.statusText}`);
                }

                const data = await response.json();

                // Display the data (you can customize this further)
                output.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
            } catch (error) {
                output.innerHTML = `<p style="color: red;">${error.message}</p>`;
            }
        });
    </script>
</body>
</html>
</head>

</html>

<!--
var baseurl = "https://beta.pathofdiablo.com/ladder"
var zonurl = "?charClass=1"
var sorcurl = "?charClass=2"
var necrourl = "?charClass=3"
var palurl  = "?charClass=4"
var barburl = "?charClass=5"
var druurl = "?charClass=6"
var assurl = "?charClass=7"

// Fetch the page
// const ladderurl = baseurl + 
const ladderurl = "https://beta.pathofdiablo.com/api/ladder/13/0/1/1"; // Use a single declaration here
 
//import React, { useState } from "react";
//import axios from "axios";
/*
function ClassSelector() {
  const [className, setClassName] = useState("");
  const [results, setResults] = useState(null);

  const fetchData = async () => {
    try {
      const namesResponse = await axios.get(ladderurl);
      const names = namesResponse.data;

      const detailsResponses = await Promise.all(
        names.map((name) => axios.get(`https://beta.pathofdiablo.com/api/characters/${name.charName}/summary`))
      );

      const skillCounts = {};
      const itemCounts = {};

      detailsResponses.forEach((res) => {
        const { SkillTabs, Equipped } = res.data;

        SkillTabs.forEach((tab) => {
          tab.Skills.forEach((skill) => {
            skillCounts[skill.Name] = (skillCounts[skill.Name] || 0) + skill.Level;
          });
        });

        Equipped.forEach((item) => {
          itemCounts[item.Title] = (itemCounts[item.Title] || 0) + 1;
        });
      });

      setResults({ skillCounts, itemCounts });
    } catch (error) {
      console.error("Error fetching data:", error);
    }
  };

  return (
    <div>
      <select onChange={(e) => setClassName(e.target.value)}>
        <option value="">Select a class</option>
        <option value="ama">Amazon</option>
        <option value="sor">Sorceress</option>
        {/* Add other classes }
      </select>
      <button onClick={fetchData}>Get Data</button>
      {results && (
        <div>
          <h3>Skill Counts</h3>
          <pre>{JSON.stringify(results.skillCounts, null, 2)}</pre>
          <h3>Item Counts</h3>
          <pre>{JSON.stringify(results.itemCounts, null, 2)}</pre>
        </div>
      )}
    </div>
  );
}
*/

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Data Fetcher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Class Data Fetcher</h1>
    <label for="classSelect">Choose a class:</label>
    <select id="classSelect">
        <option value="">Select a class</option>
        <option value="barbarian">Barbarian</option>
        <option value="sorceress">Sorceress</option>
        <!-- Add more classes here 
    </select>
    <button id="fetchDataButton">Fetch Data</button>

    <div id="output">
        <p>Select a class and click "Fetch Data" to see the results here.</p>
    </div>

    <script>
        document.getElementById('fetchDataButton').addEventListener('click', async () => {
            const classSelect = document.getElementById('classSelect');
            const selectedClass = classSelect.value;
            const output = document.getElementById('output');

            if (!selectedClass) {
                output.innerHTML = '<p>Please select a class before fetching data.</p>';
                return;
            }

            output.innerHTML = '<p>Fetching data...</p>';

            try {
                // Replace with your API endpoint
                const apiUrl = `https://example.com/api/classes/${selectedClass}`;
                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error(`Error fetching data: ${response.statusText}`);
                }

                const data = await response.json();

                // Display the data (you can customize this further)
                output.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
            } catch (error) {
                output.innerHTML = `<p style="color: red;">${error.message}</p>`;
            }
        });
    </script>
</body>
</html>
-->